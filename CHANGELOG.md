# Changelog

All notable changes to this project should be documented in this file.

The format follows [Keep a Changelog](https://keepachangelog.com/en/1.1.0/)
and this project uses [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

## [0.1.28] - 2026-02-14
### Fixed
- Исправили сжатие на сервере: ресурсы приложения теперь отдаются со сжатием и загружаются быстрее.

## [0.1.27] - 2026-02-14
### Fixed
- Ускорили первую загрузку приложения: включили сжатие и загрузку разделов по мере открытия.

## [0.1.26] - 2026-02-14
### Fixed
- Ускорили загрузку таймлайна и подсчёт задач в больших рабочих пространствах.

## [0.1.25] - 2026-02-14
### Security
- Усилили безопасность Keycloak: внешние подключения теперь требуют HTTPS.

## [0.1.24] - 2026-02-14
### Fixed
- Сократили кратковременные ошибки 502 во время релиза: API и прокси теперь перезагружаются без жёстких рестартов.

## [0.1.23] - 2026-02-14
### Fixed
- Стабилизировали вход: уменьшен размер cookie-сессии oauth2-proxy, чтобы избежать переполнения и проблем логина в некоторых браузерах.

## [0.1.22] - 2026-02-14
### Fixed
- Ускорили загрузку страницы входа: статические ресурсы Keycloak теперь отдаются с корректными заголовками кэширования и кэшируются браузером.

## [0.1.21] - 2026-02-14
### Security
- Ужесточены CORS правила для API: разрешены только доверенные источники (origin), убран заголовок `Access-Control-Allow-Credentials`, чтобы исключить чтение ответов с чужих доменов.

## [0.1.20] - 2026-02-14
### Security
- При деплое теперь автоматически проверяется и при необходимости синхронизируется секрет OIDC-клиента в Keycloak с настройками production, чтобы вход не ломался после пересоздания Keycloak.

## [0.1.19] - 2026-02-14
### Security
- Усилена безопасность авторизации: заменены дефолтные OIDC-секреты и добавлена проверка, блокирующая деплой с dev/default секретами.

## [0.1.18] - 2026-02-14
### Changed
- Нет зафиксированных изменений.

## [0.1.17] - 2026-02-14
### Fixed
- В легенде круговой диаграммы убрано отображение технических подпунктов: агрегированный пункт теперь всегда показывается как `Other`, без внутренних ключей/шифров.
- Для виджетов `Линейный график` и `Площадная диаграмма` добавлены фоновые горизонтальные линии, как в столбчатом графике.

## [0.1.16] - 2026-02-13
### Changed
- На дашборде графические виджеты теперь адаптивно подстраивают компоновку графика и легенды под фактический размер карточки и разрешение экрана, включая широкоформатные мониторы.

## [0.1.15] - 2026-02-13
### Fixed
- Для русского интерфейса зафиксированы единые сокращения дней недели во всех календарных представлениях: `Пн`, `Вт`, `Ср`, `Чт`, `Пт`, `Сб`, `Вс`.

## [0.1.14] - 2026-02-13
### Added
- В разделе `Projects -> Проекты` добавлено открытие редактирования проекта по двойному клику.

### Changed
- На таймлайне названия месяцев и дней недели теперь отображаются на языке интерфейса (русский/английский).
- В виджете `Вехи` со стилем `Лист` список теперь адаптивно заполняется по фактическому размеру карточки и разрешению экрана: показывается максимум вмещающихся элементов.

### Fixed
- Исправили доступность модальных окон: добавлены необходимые описания, чтобы не возникали предупреждения и корректно работали скринридеры.
- Уточнили роутинг Keycloak: адреса `/realms/master`, `/realms/timeline` и `/admin/master/console` теперь автоматически открывают корректные страницы входа/консоли.

## [0.1.13] - 2026-02-13
### Fixed
- Стабилизирована загрузка уникальных счётчиков задач на `Timeline` и `Members`, чтобы значения отображались корректно и без ошибок после обновления.

## [0.1.12] - 2026-02-13
### Changed
- На таймлайне в левом списке пользователей количество задач теперь считается как количество уникальных задач без дублей повторяющихся серий.
- В разделе `Members -> Задачи` счётчики задач у участников теперь сразу приходят в нужном формате, без промежуточного показа “всех задач”.

## [0.1.11] - 2026-02-13
### Added
- В повторениях задач добавлен новый вариант `Двухнедельная (раз в две недели)` с поддержкой в русском и английском интерфейсах.

### Changed
- В форме создания задачи на таймлайне длинные названия проекта в поле `Проект` теперь отображаются в одну строку и аккуратно сокращаются.
- На экране входа убран промежуточный welcome-экран: при обычном входе выполняется прямой переход в Keycloak.

### Fixed
- В карточках задач на таймлайне иконка повторяющейся задачи (`Repeat`) теперь имеет стабильный фиксированный размер.
- Уведомления о принятии/отклонении приглашений в workspace больше не всплывают задним числом: показываются только актуальные новые реакции.

## [0.1.10] - 2026-02-13
### Fixed
- В форме проекта поле `Клиент` в выпадающем списке снова корректно прокручивается колесом мыши.
- В модальных окнах удаления повторяющихся задач кнопки действий теперь адаптивно переносятся и не обрезаются на узких экранах.
- При редактировании повторяющейся задачи блок `Repeat` автоматически показывает текущие параметры серии (частоту и количество повторов), а не пустое состояние.
- Для ресурсов Keycloak обновили кэш-заголовки на edge, чтобы исключить залипание некорректно закэшированных стилей страницы входа в админ-консоль.

## [0.1.9] - 2026-02-13
### Changed
- Нет зафиксированных изменений.

## [0.1.8] - 2026-02-13
### Changed
- Ускорили вход в систему и открытие страницы аутентификации: в production для Keycloak включено кэширование тем и статических ресурсов.
- Сократили задержку после логина: убрали дублирующиеся стартовые запросы профиля/ролей/рабочих пространств при инициализации сессии.
- Убрали внешнюю загрузку Google Fonts из приложения, чтобы вход и первый рендер не зависели от стороннего CDN.

## [0.1.7] - 2026-02-13
### Fixed
- Доработали edge-настройки для страницы авторизации: сжатие и кэширование ресурсов Keycloak теперь применяются корректно на боевом домене.

## [0.1.6] - 2026-02-13
### Changed
- Ускорили загрузку страницы авторизации: статические ресурсы Keycloak теперь отдаются со сжатием на edge и кэшируются в браузере.

### Fixed
- Исправили окно «Последние изменения»: теперь показывается только текущий релизный блок без подтягивания старых версий.

## [0.1.5] - 2026-02-13
### Fixed
- В английском интерфейсе при создании виджета полностью переведены разделы `Type` и `Period`, включая варианты выбора внутри них.
- В расширенных фильтрах создания виджета переведены все элементы правил (поля, операторы и режимы группировки правил).
- В модальном окне «последние изменения» скрыты технические секции, чтобы пользователи видели только продуктовые обновления.

## [0.1.4] - 2026-02-13
### Changed
- Обновили создание виджетов на дашборде: поля в модальном окне больше не «режутся» по краям, фокус и контент отображаются полностью.
- Улучшили логику сетки дашборда: виджеты больше не могут накладываться друг на друга при перетаскивании/изменении размера.
- Для вкладки `Members -> Tasks` теперь запоминаются пользовательские настройки списка: сортировка `A-Z / Z-A` и группировка `по группам / без групп`.
- В режиме календаря на таймлайне при выборе даты анимация выделяет именно выбранную дату, а не всю колонку.

### Added
- Для таймлайна добавили создание вехи по двойному клику на дате (в шапке дней и в строке вех).
- Если на одну дату приходится несколько вех, в таймлайне отображаются все точки этой даты, а в подсказке показывается полный список вех за день.
- В меню настроек аккаунта добавили компактное отображение версии приложения внизу; по клику открывается модальное окно с последними изменениями.

### Fixed
- Дополнили локализацию интерфейса (включая создание виджетов и форму/детали задач на таймлайне), чтобы ключевые поля и действия не оставались на английском.
- Устранили коллизию в сетке дашборда: теперь маленький виджет нельзя поместить поверх большого (жёсткий запрет наложения при drag/resize).
- Исправили отображение версии: номер версии в интерфейсе всегда соответствует установленному релизу.

## [0.1.0] - 2026-02-13
### Added
- Introduced baseline release versioning with `VERSION`.
- Added project-level changelog file (`CHANGELOG.md`).
- Added deployment release log file (`infra/releases.log`).
- Added automatic deployment log append in `infra/scripts/prod-compose.sh`.
